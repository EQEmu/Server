<?

@zones = $EQW->ListBootedZones();
@zones = sort @zones;
$zone_count = @zones;

print "{";
print "\"zone_count\" : $zone_count,";
print "\"zones\" : ";
print "[";

for(my $i = 0; $i < $zone_count; $i++) {
    my $zone = $EQW->GetZoneDetails($zones[$i]);
    print "{";
    print "\"type\" : \"$zone->{type}\",";
    print "\"zone_id\" : $zone->{zone_id},";
    print "\"launch_name\" : \"$zone->{launch_name}\",";
    print "\"short_name\" : \"$zone->{short_name}\",";
    print "\"long_name\" : \"$zone->{long_name}\",";
    print "\"port\" : $zone->{port},";
    print "\"player_count\" : $zone->{player_count},";
    print "\"instance_id\" : $zone->{instance_id}";
    print "}";

    if($i != $zone_count - 1) {
        print ",";
    }
}

print "]";
print "}";

?>